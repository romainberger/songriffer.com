(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{214:function(t,e){},216:function(t,e){},227:function(t,e,r){const{parseString:n}=r(199),o=r(33),s={"16th":"16","32th":"32","64th":"64",Eighth:"8",Half:"h",Quarter:"q",Whole:"w"},i={8:1/8,16:1/16,32:1/32,64:1/64,h:.5,q:.25,w:1},a=t=>1/(t/2*3),u={8:a(8),16:a(16),32:a(32),64:a(64),h:a(2),q:a(4),w:a(1)},c=(t,e,r)=>{let n=null;for(const e of t[0].Beat){if(e.Notes.includes(r)){n=e;break}if(e.Notes[0].split(" ").includes(r)){n=e;break}}return((t,e)=>{const r=o(t,"[0].Rhythm",[]),n=o(e,"Rhythm[0]['$'].ref");return r.find(t=>t.$.id===n)})(e,n)},l=t=>[`tabstave notation=true\ntime=${t}\n`],p=t=>{const e=g(t);return[`${l(e)}  notes`]},h=(t,e={})=>{const r=[],{GPIF:{Beats:n,Notes:a,Rhythms:l}}=t,h=a[0].Note,m=h.length;let $=p(t),g=null,w=0,d=0,P=1;return h.forEach((e,a)=>{let h="";const f=e.$.id,k=(t=>{const e=o(t,"Properties[0].Property",[]),r={};return e.forEach(t=>{t.Fret&&(r.fret=t.Fret[0]),t.String&&(r.string=6-t.String[0])}),r})(e),N=c(n,l,f),{noteValue:T,isTuplet:b}=(t=>{const e=s[o(t,"NoteValue[0]")],r=o(t,"PrimaryTuplet[0]");return e||console.log("# undefined note map ",t.NoteValue[0]),{noteValue:e,isTuplet:!!r}})(N);d+=b?u[T]:i[T],T!==g&&(g=T,h+=`:${T} `),h+=`${k.fret}/${k.string} `,b&&3===++w&&(h+="^3^ ",w=0),d>=1&&m-1!==a&&(h+="|",d=0,P+=1,w=0),$.push(h),5===P&&(r.push($),$=p(t),P=1,g=null)}),r.push($),`${f(e)}${(t=>t.map(t=>t.join(" ").trim()).join("\n"))(r)}`},f=t=>{const e=Object.keys(t);return e.length?`options ${e.map(e=>`${e}=${t[e]}`).join(" ")}\n`:""};t.exports.convertOptions=f;const m=t=>{const e=t.GPIF.Score[0],r={};return["Album","Artist","Title"].forEach(t=>{r[t.toLowerCase()]=e[t]?e[t][0]:""}),r},$=t=>{return t.GPIF.Tracks[0].Track.map(t=>({name:o(t,"Name[0]","").trim(),tuning:o(t,"Staves[0].Staff[0].Properties[0].Name[0]","").trim()}))},g=t=>{return t.GPIF.MasterBars[0].MasterBar[0].Time[0]};t.exports.parseGuitarProXML=(t,e={})=>new Promise((r,o)=>{n(t,(t,n)=>{if(t)return console.error(t),void o(t);r({firstTimeSignature:g(n),infos:m(n),notation:h(n,e.options),tracks:$(n)})})})}}]);